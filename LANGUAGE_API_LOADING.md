# –í–ò–ü–†–ê–í–õ–ï–ù–û: API –ø–æ–≤–µ—Ä—Ç–∞—î –æ–±'—î–∫—Ç –∑–∞–º—ñ—Å—Ç—å –º–∞—Å–∏–≤—É

## –ü—Ä–æ–±–ª–µ–º–∞
API –ø–æ–≤–µ—Ä—Ç–∞–≤ –º–æ–≤–∏ —è–∫ –æ–±'—î–∫—Ç:
```javascript
{
  "uk-ua": { language_id: "3", code: "uk-ua", name: "UA" },
  "ru-ru": { language_id: "4", code: "ru-ru", name: "RU" }
}
```

–ê –∫–æ–¥ –æ—á—ñ–∫—É–≤–∞–≤ –º–∞—Å–∏–≤:
```javascript
[
  { language_id: "3", code: "uk-ua", name: "UA" },
  { language_id: "4", code: "ru-ru", name: "RU" }
]
```

–¢–æ–º—É `languages.length` –±—É–ª–æ `undefined`, —ñ –ø–æ–∫–∞–∑—É–≤–∞–ª–æ—Å—å "–ù–µ–º–∞—î –º–æ–≤".

## –†—ñ—à–µ–Ω–Ω—è

### 1. –î–æ–¥–∞–Ω–æ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—é –æ–±'—î–∫—Ç–∞ –≤ –º–∞—Å–∏–≤

```typescript
loadLanguages: async () => {
  const response = await getLanguages();

  // API –ø–æ–≤–µ—Ä—Ç–∞—î –æ–±'—î–∫—Ç, –∞ –Ω–µ –º–∞—Å–∏–≤ - –∫–æ–Ω–≤–µ—Ä—Ç—É—î–º–æ
  let languages: Language[] = [];

  if (response) {
    if (Array.isArray(response)) {
      // –Ø–∫—â–æ —Ü–µ –º–∞—Å–∏–≤ - –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ —è–∫ —î
      languages = response;
    } else if (typeof response === 'object') {
      // –Ø–∫—â–æ —Ü–µ –æ–±'—î–∫—Ç - –∫–æ–Ω–≤–µ—Ä—Ç—É—î–º–æ –≤ –º–∞—Å–∏–≤
      languages = Object.values(response);
      console.log('üîÑ Converted object to array');
    }
  }

  // –¢–µ–ø–µ—Ä languages - —Ü–µ –∑–∞–≤–∂–¥–∏ –º–∞—Å–∏–≤
  if (languages.length > 0) {
    // –í—Å—Ç–∞–Ω–æ–≤–ª—é—î–º–æ –º–æ–≤–∏
  }
}
```

### 2. –û–Ω–æ–≤–ª–µ–Ω–æ —Ç–∏–ø API

```typescript
// –ë—É–ª–æ:
export function getLanguages(): Promise<Language[]>

// –°—Ç–∞–ª–æ:
export function getLanguages(): Promise<Language[] | Record<string, Language>>
```

## –Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î

### –Ø–∫—â–æ API –ø–æ–≤–µ—Ä—Ç–∞—î –º–∞—Å–∏–≤:
```javascript
[{...}, {...}]
```
‚Üí –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è —è–∫ —î

### –Ø–∫—â–æ API –ø–æ–≤–µ—Ä—Ç–∞—î –æ–±'—î–∫—Ç:
```javascript
{"uk-ua": {...}, "ru-ru": {...}}
```
‚Üí –ö–æ–Ω–≤–µ—Ä—Ç—É—î—Ç—å—Å—è –≤ –º–∞—Å–∏–≤ —á–µ—Ä–µ–∑ `Object.values()`
‚Üí –†–µ–∑—É–ª—å—Ç–∞—Ç: `[{...}, {...}]`

## –õ–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª—ñ

–¢–µ–ø–µ—Ä –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ –ø–æ–±–∞—á–∏—Ç–µ:
```
üîÑ Starting to load languages from API...
üì¶ Raw response from API: {uk-ua: {...}, ru-ru: {...}}
üîÑ Converted object to array
‚úÖ Loaded languages from API: 2 languages
üìù Languages data: [...]
‚úÖ Default language set to: UA (uk-ua)
```

## –†–µ–∑—É–ª—å—Ç–∞—Ç

‚úÖ **–ú–æ–≤–∏ —Ç–µ–ø–µ—Ä –∑–∞–≤–∞–Ω—Ç–∞–∂—É—é—Ç—å—Å—è** - –Ω–µ–∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —Ñ–æ—Ä–º–∞—Ç—É API
‚úÖ **–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞ –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–±–∏—Ä–∞—î—Ç—å—Å—è
‚úÖ **–ü—Ä–∞—Ü—é—î –∑ –æ–±–æ–º–∞ —Ñ–æ—Ä–º–∞—Ç–∞–º–∏** - –º–∞—Å–∏–≤ –∞–±–æ –æ–±'—î–∫—Ç
‚úÖ **–ü–æ–∫–∞–∑—É—î—Ç—å—Å—è —Å–ø–∏—Å–æ–∫ –º–æ–≤** - –∑–∞–º—ñ—Å—Ç—å "–ù–µ–º–∞—î –º–æ–≤"

## –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞

–ü—ñ—Å–ª—è –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫—É –¥–æ–¥–∞—Ç–∫—É:
1. –í –∫–æ–Ω—Å–æ–ª—ñ: `üîÑ Converted object to array`
2. –í –∫–æ–Ω—Å–æ–ª—ñ: `‚úÖ Loaded languages from API: 2 languages`
3. –í –±–æ–∫–æ–≤–æ–º—É –º–µ–Ω—é: –ø–æ–∫–∞–∑—É—î—Ç—å—Å—è "UA" (–∞–±–æ —ñ–Ω—à–∞ –º–æ–≤–∞)
4. –ú–æ–∂–Ω–∞ –ø–µ—Ä–µ–º–∏–∫–∞—Ç–∏ –º—ñ–∂ –º–æ–≤–∞–º–∏

## –¢–µ—Ö–Ω—ñ—á–Ω—ñ –¥–µ—Ç–∞–ª—ñ

### Object.values()
–ö–æ–Ω–≤–µ—Ä—Ç—É—î –æ–±'—î–∫—Ç –≤ –º–∞—Å–∏–≤ –∑–Ω–∞—á–µ–Ω—å:
```javascript
Object.values({a: 1, b: 2, c: 3})
// –†–µ–∑—É–ª—å—Ç–∞—Ç: [1, 2, 3]

Object.values({"uk-ua": {...}, "ru-ru": {...}})
// –†–µ–∑—É–ª—å—Ç–∞—Ç: [{...}, {...}]
```

### –£–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω—ñ—Å—Ç—å
–ö–æ–¥ —Ç–µ–ø–µ—Ä –ø—Ä–∞—Ü—é—î –∑ –±—É–¥—å-—è–∫–∏–º —Ñ–æ—Ä–º–∞—Ç–æ–º –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ:
- –ú–∞—Å–∏–≤ ‚Üí OK
- –û–±'—î–∫—Ç ‚Üí –ö–æ–Ω–≤–µ—Ä—Ç—É—î—Ç—å—Å—è –≤ –º–∞—Å–∏–≤ ‚Üí OK
- –ü–æ—Ä–æ–∂–Ω—ñ–π –º–∞—Å–∏–≤ ‚Üí –ü–æ–∫–∞–∑—É—î "–ù–µ–º–∞—î –º–æ–≤"
- –ü–æ—Ä–æ–∂–Ω—ñ–π –æ–±'—î–∫—Ç ‚Üí –ü–æ–∫–∞–∑—É—î "–ù–µ–º–∞—î –º–æ–≤"
- null/undefined ‚Üí –ü–æ–∫–∞–∑—É—î "–ù–µ–º–∞—î –º–æ–≤"
